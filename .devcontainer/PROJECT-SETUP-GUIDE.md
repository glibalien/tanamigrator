# Project Setup Guide for LLMs

This guide instructs AI assistants on what project-specific files and folders to create when setting up a new project or onboarding to an existing project using this devtemplate.

> **Note:** This guide assumes the devtemplate is already installed. If you need to add devtemplate to a new or existing project, see [docs/ADOPTION-GUIDE.md](./docs/ADOPTION-GUIDE.md) first.

## Overview

The devtemplate provides development tools and infrastructure. Each project using this template needs its own configuration files that are **not** part of the template but should be created per-project.

---

## Required Project-Specific Setup

### 1. SpecStory Configuration

**Purpose:** Auto-saves AI conversation history for the project.

**Setup:** Run SpecStory once in the project directory to auto-generate:
```bash
cd /workspace  # or project root
specstory run claude
# Exit immediately with /exit - this creates the .specstory folder
```

**Creates:**
```
.specstory/
├── .project.json      # Auto-generated workspace/project IDs
└── history/           # AI conversation logs (auto-populated)
```

**Alternative manual setup:**
```bash
mkdir -p .specstory/history
cat > .specstory/.project.json << 'EOF'
{
  "project_name": "YOUR_PROJECT_NAME"
}
EOF
```

> **Note:** The `workspace_id` and `git_id` are auto-generated by SpecStory on first run. Manual creation only needs `project_name`.

---

### 2. Work Session Documentation

**Purpose:** Obsidian-compatible work session summaries for significant development sessions.

**Setup:**
```bash
mkdir -p docs/work-sessions
```

**Structure:**
```
docs/
└── work-sessions/
    └── YYYY-MM-DD-brief-description.md
```

**Template for work session files:**
```markdown
---
created: YYYY-MM-DDTHH:MM
updated: YYYY-MM-DDTHH:MM
tags: []
NoteType: Work Session
Parent:
Summary: Brief description of the session
---

## Session Goals

[What was the intended outcome of this session]

## Notes

[Key observations, decisions, and context from the session]

## Progress Made

[Concrete accomplishments - files created/modified, features implemented, bugs fixed]

## Next Steps

[Outstanding items, follow-up tasks, and blockers]
```

---

### 3. Project Environment Variables

**Purpose:** Store project-specific API keys and secrets.

**Setup:** Create `.env` files as needed (these are gitignored):
```bash
# For Auto-Claude
cat > ~/.local/share/auto-claude/.env << 'EOF'
CLAUDE_CODE_OAUTH_TOKEN=your_token_here
EOF

# For project-specific keys (if needed)
cat > .env << 'EOF'
# Project-specific environment variables
EOF
```

> **Security:** Never commit `.env` files. They are in `.gitignore` by default.

---

### 4. Claude Code Project Settings (Optional)

**Purpose:** Project-specific Claude Code configuration.

**Setup:**
```bash
mkdir -p .claude
cat > .claude/settings.local.json << 'EOF'
{
  "permissions": {
    "allow": [],
    "deny": []
  },
  "hooks": {}
}
EOF
```

**Note:** `.claude/settings.local.json` is for project-specific overrides. Global settings are in `~/.claude/settings.json`.

---

## Recommended .gitignore Additions

Ensure these are in your project's `.gitignore`:

```gitignore
# Environment and secrets
.env
.env.local
*.env

# Local IDE settings
.claude/settings.local.json

# Optional: Exclude SpecStory history from git (if preferred)
# .specstory/history/
```

---

## Quick Setup Script

Run this to set up all project-specific folders at once:

```bash
#!/bin/bash
# Project setup script

PROJECT_NAME="${1:-$(basename $(pwd))}"

echo "Setting up project: $PROJECT_NAME"

# Create docs structure
mkdir -p docs/work-sessions

# Create SpecStory structure (basic)
mkdir -p .specstory/history
if [ ! -f .specstory/.project.json ]; then
    cat > .specstory/.project.json << EOF
{
  "project_name": "$PROJECT_NAME"
}
EOF
    echo "Created .specstory/.project.json"
fi

# Create Claude local settings (optional)
mkdir -p .claude
if [ ! -f .claude/settings.local.json ]; then
    echo '{}' > .claude/settings.local.json
    echo "Created .claude/settings.local.json"
fi

echo "Project setup complete!"
echo ""
echo "Next steps:"
echo "  1. Run 'specstory run claude' to initialize SpecStory IDs"
echo "  2. Configure any project-specific .env files"
echo "  3. Update .gitignore if needed"
```

---

## What NOT to Create

These are part of the devtemplate and should NOT be duplicated per-project:

- `.devcontainer/` - Shared dev environment configuration
- `docs/TESTING-CHECKLIST.md` - Template testing (not project-specific)
- Global tool installations (handled by menu.sh)
- Shell profile configurations (~/.bashrc, ~/.zshrc)

---

## For LLM Assistants

When starting work on a new project or repository:

1. **Check if setup exists:**
   ```bash
   ls -la .specstory/ docs/work-sessions/ 2>/dev/null
   ```

2. **If missing, offer to create:**
   - Ask user if they want project-specific tracking set up
   - Run the quick setup script or create manually

3. **On session end (if significant work done):**
   - Offer to save work session to `docs/work-sessions/`
   - Run `specstory sync` to ensure conversations are captured

4. **Use `/land-the-plane` command:**
   - This automatically handles work session summary and git operations
